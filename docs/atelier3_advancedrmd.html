<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Personalisation de Rmarkdown</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 54px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 59px;
  margin-top: -59px;
}

.section h2 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h3 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h4 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h5 {
  padding-top: 59px;
  margin-top: -59px;
}
.section h6 {
  padding-top: 59px;
  margin-top: -59px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">FinistR 2018</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    accueil
  </a>
</li>
<li>
  <a href="https://github.com/StateOfTheR/finistR2018">
    <span class="fa fa-github"></span>
     
    dépôt github
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-refresh"></span>
     
    Webscraping
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="atelier1_webscraping_intro.html">Introduction</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="atelier1_webscraping_simple.html">Un exemple simple</a>
    </li>
    <li>
      <a href="atelier1_webscraping_genealogie.html">Généalogie mathématique</a>
    </li>
    <li>
      <a href="atelier1_webscraping_tripadvisor.html">Trip advisor</a>
    </li>
    <li>
      <a href="atelier1_webscraping_googlefight.html">Occurrences Google</a>
    </li>
    <li>
      <a href="atelier1_webscraping_youtube.html">Youtube, MSN meteo</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-wheelchair-alt"></span>
     
    Optimisation et accélération
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="atelier2_introduction.html">Introduction</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="atelier2_background_optim.html">Outils d'optimisation standard</a>
    </li>
    <li>
      <a href="atelier2_cuda.html">R et GPU</a>
    </li>
    <li>
      <a href="atelier2_tensorflow.html">TensorFlow</a>
    </li>
    <li>
      <a href="atelier2_greta.html">Greta</a>
    </li>
    <li>
      <a href="atelier2_rcpp_modules.html">Modules Rcpp</a>
    </li>
    <li>
      <a href="atelier2_julia.html">Julia</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-thumbs-o-up"></span>
     
    Bonnes pratiques
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Introduction</li>
    <li class="divider"></li>
    <li>
      <a href="atelier3_git.html">Versioning with git(hub)</a>
    </li>
    <li>
      <a href="atelier3_makefile_tuto.html">Understanding Makefiles</a>
    </li>
    <li>
      <a href="atelier3_package_creation.html">Packages: création, développement, tests</a>
    </li>
    <li>
      <a href="atelier3_advancedrmd.html">Production de documents</a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Personalisation de Rmarkdown</h1>

</div>


<div id="base-de-fonctionnement-de-rmarkdown" class="section level1">
<h1>Base de fonctionnement de Rmarkdown</h1>
<div id="resume-de-la-chaine-de-traitement" class="section level2">
<h2>Résumé de la chaîne de traitement</h2>
<div class="figure">
<img src="img/schema_rmd.png" alt="Process de création d’un document" />
<p class="caption">Process de création d’un document</p>
</div>
</div>
<div id="les-acteurs" class="section level2">
<h2>Les acteurs</h2>
<ol style="list-style-type: decimal">
<li>Chaîne de traitement
<ul>
<li>package/fonction <em>rmarkdown</em>: gestion de l’ensemble de la chaîne de traitement (Rstudio -&gt; document final)</li>
<li>package <em>knitr</em>: interprétation du code utilisateur (R/Python/Julia) et conversion en sortie intégrable au document</li>
<li>logiciel <em>Pandoc</em>: convertisseur de markdown (faiblement structuré) en langage balisé (fortement structuré)</li>
</ul></li>
<li>Interpréteur de langage balisé
<ul>
<li>navigateur web (<em>HTML</em>)</li>
<li>commande <code>(pdf)latex</code> + lecteur (<em>PDF</em>)</li>
<li>Word/libreoffice (<em>docx</em>)</li>
</ul></li>
</ol>
</div>
<div id="langages" class="section level2">
<h2>Langages</h2>
<ul>
<li>Metadata (YAML): paramétrisation de la chaîne de traitement</li>
<li>Langage pour code utilisateur (R, Python, Julia, bash…)</li>
<li>Langage de balisage (Rmarkdown, markdown, HTML, <span class="math inline">\(\LaTeX2e\)</span>, XML)</li>
</ul>
</div>
<div id="organisation-dun-document-structure-par-balises" class="section level2">
<h2>Organisation d’un document structuré par balises</h2>
<ul>
<li>Un préambule
<ul>
<li><em>preamble</em> (précède <code>\begin{document}</code>) dans <span class="math inline">\(\LaTeX\)</span></li>
<li>une <em>en-tête</em> en <code>HTML</code> (<code>&lt;header&gt; ... &lt;\header&gt;</code>)</li>
</ul></li>
<li>document principal
<ul>
<li><code>\begin{document} ... \end{document}</code> en <span class="math inline">\(\LaTeX\)</span></li>
<li><code>&lt;body&gt; ... &lt;/body&gt;</code> en <code>HTML</code></li>
</ul></li>
</ul>
</div>
<div id="fichiers" class="section level2">
<h2>Fichiers</h2>
<ol style="list-style-type: decimal">
<li>entrée
<ul>
<li>.Rmd (YAML+R+markdown)</li>
</ul></li>
<li>fichier intermédiare
<ul>
<li>.md (markdown), figures</li>
</ul></li>
<li>configuration
<ul>
<li>.sty, .css</li>
</ul></li>
<li>sortie
<ul>
<li>.tex/.PDF, .html, .docx</li>
</ul></li>
</ol>
</div>
</div>
<div id="fonctionnement-du-preambule-rmd" class="section level1">
<h1>Fonctionnement du préambule <code>Rmd</code></h1>
<p>L’idée est de transformer le Rmd en md et qu’il soit interprété par pandoc. Les options vont donc devoir être passéees à knitr et à Pandoc. On a donc un préambule pour cela. Néanmoins on voit à ce moment de l’histoire que les options vont être traitées différemment selon les étapes. Il faut donc récupérer les options sous une forme structurée et non plus balisée. C’est le but de <em>yaml</em> qui est un parseur. Ceci explique aussi pourquoi l’indentation et la présentation sont importantes. Les éléments parsés vont être transmis aux interpréteurs.</p>
<p>Notez que le type de sortie (<code>html_document</code>, <code>pdf_document</code>) correspond à une fonction du package <code>rmarkdown</code> (<code>html_document()</code> ou <code>pdf_document()</code>) dont la tâche est d’effectuer toute la chaîne de traitement. Les entrées YAML associé par l’indentitation à cette fonction correspondent en faite à des variables passés en arguments de cette fonction paramétrant le processus.</p>
<p>On peut distinguer les options globales des options qui sont spécifiques d’un format.</p>
<div id="options-globales" class="section level2">
<h2>Options globales</h2>
<p>Elles sont communes à tout type de sortie</p>
<div class="sourceCode"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span class="ot">---</span>
<span class="fu">title:</span><span class="at"> titre du document</span>
<span class="fu">subtitle:</span><span class="at"> </span><span class="st">&quot;sous titre&quot;</span>
<span class="fu">author:</span><span class="at"> auteur du document</span>
<span class="fu">date:</span><span class="at"> </span><span class="st">&quot;`r Sys.Date()`&quot;</span>
<span class="ot">---</span></code></pre></div>
</div>
<div id="options-specifiques" class="section level2">
<h2>Options spécifiques</h2>
<p>On peut distinguer pour HTML ou les fichiers de définition inclus (css ou .sty) ou ou l’utilisation de certaines commandes (on donne une valeur à une variable).</p>
<div id="exemple-pour-html_document" class="section level3">
<h3>Exemple pour html_document()</h3>
<div class="sourceCode"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span class="ot">---</span>
<span class="fu">title:</span><span class="at"> titre du document</span>
<span class="fu">author:</span><span class="at"> auteur du document</span>
<span class="fu">output:</span>
  <span class="fu">html_document:</span>
    <span class="fu">number_sections:</span><span class="at"> yes</span>
    <span class="fu">toc:</span><span class="at"> true</span>
    <span class="fu">mathjax:</span><span class="at"> </span><span class="st">&quot;http://example.com/MathJax.js&quot;</span>
    <span class="fu">css:</span><span class="at"> monstyle.css</span>
<span class="ot">---</span></code></pre></div>
</div>
<div id="exemple-pour-pdf_document" class="section level3">
<h3>Exemple pour pdf_document()</h3>
<div class="sourceCode"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span class="ot">---</span>
<span class="fu">title:</span><span class="at"> titre du document</span>
<span class="fu">author:</span><span class="at"> auteur du document</span>
<span class="fu">output:</span>
  <span class="fu">pdf_document:</span>
    <span class="fu">number_sections:</span><span class="at"> yes</span>
    <span class="fu">toc:</span><span class="at"> true</span>
    <span class="fu">include:</span>
      <span class="fu">in_header:</span><span class="at"> preamble.sty</span>
<span class="ot">---</span></code></pre></div>
</div>
</div>
<div id="example-avance-pour-la-sortie-beamer_presentation" class="section level2">
<h2>Example avancé pour la sortie <code>beamer_presentation</code></h2>
<p><a href="https://github.com/jchiquet/CourseAdvancedR" class="uri">https://github.com/jchiquet/CourseAdvancedR</a></p>
</div>
</div>
<div id="creer-son-propre-template-rmd" class="section level1">
<h1>Créer son propre template <code>Rmd</code></h1>
<p>Si la customisation du document est importante il devient vite illisible de les inclure en paramètres dans le préambule et il faut mieux créer son propre template. Ceci revient à créer une libraire R un peu spéciale et l’inclure.</p>
<div id="exemple-un-package-pour-une-publication-scientifique" class="section level2">
<h2>Exemple: un package pour une publication scientifique</h2>
<p>Un exemple simple est le template d’un journal. Il faut créer package qui s’organisera comme dans la figure suivante :</p>
<div class="figure">
<img src="img/TreePackageRmarkdown.png" alt="arborescence" />
<p class="caption">arborescence</p>
</div>
<div class="figure">
<img src="img/arborescence_pkg_template.png" alt="arborescence type" />
<p class="caption">arborescence type</p>
</div>
<div id="definition-dun-processiong-de-sortie-en-html" class="section level3">
<h3>Définition d’un processiong de sortie en HTML</h3>
<p>Le fichier <code>html.R</code> contient la fonction <code>html_article()</code> assurant la chaîne de traîtement. Ici, un exemple simple se basant sur la fonction existante <code>html_document()</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">html_article &lt;-<span class="st"> </span><span class="cf">function</span>(...) {

  ## call the base html_document format with the appropriate options
  rmarkdown<span class="op">::</span><span class="kw">html_document</span>(<span class="dt">theme =</span> <span class="st">&quot;united&quot;</span>,
                            <span class="dt">highlight =</span> <span class="st">&quot;tango&quot;</span>,
                            <span class="dt">toc =</span> <span class="ot">TRUE</span>,
                            <span class="dt">df_print =</span> <span class="st">&quot;paged&quot;</span>,
                            <span class="dt">code_folding =</span> <span class="st">&quot;show&quot;</span>,
                            <span class="dt">code_download =</span> <span class="ot">TRUE</span>,
                            <span class="dt">toc_float =</span> <span class="ot">TRUE</span>,
                            <span class="dt">number_sections =</span> <span class="ot">TRUE</span>,
                           )
}</code></pre></div>
</div>
<div id="definition-dun-processiong-de-sortie-en-pdf" class="section level3">
<h3>Définition d’un processiong de sortie en PDF</h3>
<p>Le fichier <code>pdf.R</code> contient la fonction <code>pdf_article()</code> assurant la chaîne de traîtement. Ici, un exemple simple se basant sur la fonction existante <code>pdf_document()</code> et complétant légèrement le processus</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pdf_article &lt;-<span class="st"> </span><span class="cf">function</span>(...) {

    ## call the base pdf_document format with the appropriate options
    format &lt;-<span class="st"> </span>rmarkdown<span class="op">::</span><span class="kw">pdf_document</span>(<span class="dt">fig_width =</span> <span class="dv">8</span>, <span class="dt">fig_height =</span> <span class="dv">5</span>, <span class="dt">fig_crop =</span> <span class="ot">TRUE</span>,
                                      <span class="dt">dev =</span> <span class="st">&#39;pdf&#39;</span>, <span class="dt">highlight =</span> <span class="st">&quot;pygments&quot;</span>,
                                      <span class="dt">citation_package =</span> <span class="st">&quot;natbib&quot;</span>,
                                      <span class="dt">template =</span> <span class="kw">template_resources</span>(<span class="st">&quot;pdf_article&quot;</span>, <span class="st">&quot;template.tex&quot;</span>), ...)

    ## create knitr options (ensure opts and hooks are non-null)
    knitr_options &lt;-<span class="st"> </span>rmarkdown<span class="op">::</span><span class="kw">knitr_options_pdf</span>(<span class="dv">8</span>, <span class="dv">5</span>, <span class="ot">TRUE</span>, <span class="st">&#39;pdf&#39;</span>)
    <span class="cf">if</span> (<span class="kw">is.null</span>(knitr_options<span class="op">$</span>opts_knit))  knitr_options<span class="op">$</span>opts_knit =<span class="st"> </span><span class="kw">list</span>()
    <span class="cf">if</span> (<span class="kw">is.null</span>(knitr_options<span class="op">$</span>knit_hooks)) knitr_options<span class="op">$</span>knit_hooks =<span class="st"> </span><span class="kw">list</span>()

    ## set options
    knitr_options<span class="op">$</span>opts_chunk<span class="op">$</span>tidy =<span class="st"> </span><span class="ot">TRUE</span>
    knitr_options<span class="op">$</span>opts_knit<span class="op">$</span>width =<span class="st"> </span><span class="dv">45</span>

    ## set hooks for special plot output
    knitr_options<span class="op">$</span>knit_hooks<span class="op">$</span>plot &lt;-<span class="st"> </span><span class="cf">function</span>(x, options) {
        knitr<span class="op">::</span><span class="kw">hook_plot_tex</span>(x, options)
    }

    ## override the knitr settings of the base format and return the format
    format<span class="op">$</span>knitr &lt;-<span class="st"> </span>knitr_options
    format<span class="op">$</span>inherits &lt;-<span class="st"> &#39;pdf_document&#39;</span>
    format
}</code></pre></div>
</div>
<div id="template-pandoc" class="section level3">
<h3>template PANDOC</h3>
<p>Le fichier <code>template.tex</code> (resp. l’équivalent <code>style.css</code>) contient le template pandoc pour la sortie tex (respectivement, HTML)</p>
<div class="sourceCode"><pre class="sourceCode latex"><code class="sourceCode latex"><span class="bu">\documentclass</span>[<span class="ss">$if(fontsize)</span><span class="er">$$</span><span class="ss">fontsize$</span>,<span class="ss">$endif</span><span class="er">$$</span><span class="ss">if(lang)</span><span class="er">$$</span><span class="ss">lang$</span>,<span class="ss">$endif</span><span class="er">$$</span><span class="ss">if(papersize)</span><span class="er">$$</span><span class="ss">papersize$</span>,<span class="ss">$endif</span><span class="er">$$</span><span class="ss">for(classoption)</span><span class="er">$$</span><span class="ss">classoption</span><span class="er">$$</span><span class="ss">sep$</span>,<span class="ss">$endfor$</span>]{<span class="ss">$documentclass$</span>}

<span class="co">% ams</span>
<span class="bu">\usepackage</span>{<span class="ex">amssymb,amsmath</span>}
<span class="bu">\usepackage</span>{<span class="ex">ifxetex,ifluatex</span>}
<span class="bu">\usepackage</span>{<span class="ex">fixltx2e</span>}
<span class="bu">\usepackage</span>[OT1]{<span class="ex">fontenc</span>}
<span class="bu">\usepackage</span>[utf8]{<span class="ex">inputenc</span>}
<span class="bu">\usepackage</span>{<span class="ex">eurosym</span>}

<span class="co">% graphix</span>
<span class="bu">\usepackage</span>{<span class="ex">graphicx</span>}

<span class="co">% url</span>
<span class="bu">\usepackage</span>{<span class="ex">url</span>}

<span class="co">% hyperref</span>
<span class="bu">\usepackage</span>{<span class="ex">hyperref</span>}

<span class="co">% units.</span>
<span class="bu">\usepackage</span>{<span class="ex">units</span>}

<span class="ss">$if(lang)$</span>
<span class="fu">\ifnum</span> 0<span class="fu">\ifxetex</span> 1<span class="fu">\fi\ifluatex</span> 1<span class="fu">\fi</span>=0 <span class="co">% if pdftex</span>
  <span class="bu">\usepackage</span>[shorthands=off,<span class="ss">$for(babel-otherlangs)</span><span class="er">$$</span><span class="ss">babel-otherlangs$</span>,<span class="ss">$endfor$</span>main=<span class="ss">$babel-lang$</span>]{<span class="ex">babel</span>}
<span class="ss">$if(babel-newcommands)$</span>
  <span class="ss">$babel-newcommands$</span>
<span class="ss">$endif$</span>
<span class="fu">\else</span>
  <span class="bu">\usepackage</span>{<span class="ex">polyglossia</span>}
  <span class="fu">\setmainlanguage</span>[<span class="ss">$polyglossia-lang.options$</span>]{<span class="ss">$polyglossia-lang.name$</span>}
<span class="ss">$for(polyglossia-otherlangs)$</span>
  <span class="fu">\setotherlanguage</span>[<span class="ss">$polyglossia-otherlangs.options$</span>]{<span class="ss">$polyglossia-otherlangs.name$</span>}
<span class="ss">$endfor$</span>
<span class="fu">\fi</span>
<span class="ss">$endif$</span>

<span class="ss">$if(numbersections)$</span>
<span class="fu">\setcounter</span>{secnumdepth}{2}
<span class="ss">$else$</span>
<span class="fu">\setcounter</span>{secnumdepth}{-1}
<span class="ss">$endif$</span>

<span class="co">% citations</span>
<span class="ss">$if(natbib)$</span>
<span class="bu">\usepackage</span>{<span class="ex">natbib</span>}
<span class="bu">\bibliographystyle</span>{<span class="ss">$if(biblio-style)</span><span class="er">$$</span><span class="ss">biblio-style</span><span class="er">$$</span><span class="ss">else$</span><span class="ex">plainnat</span><span class="ss">$endif$</span>}
<span class="ss">$endif$</span>
<span class="ss">$if(biblatex)$</span>
<span class="bu">\usepackage</span>{<span class="ex">biblatex</span>}
<span class="ss">$for(bibliography)$</span>
<span class="fu">\addbibresource</span>{<span class="ss">$bibliography$</span>}
<span class="ss">$endfor$</span>
<span class="ss">$endif$</span>

<span class="co">% pandoc syntax highlighting</span>
<span class="ss">$if(highlighting-macros)$</span>
<span class="ss">$highlighting-macros$</span>
<span class="ss">$endif$</span>

<span class="co">% multiplecol</span>
<span class="bu">\usepackage</span>{<span class="ex">multicol</span>}

<span class="co">% strikeout</span>
<span class="bu">\usepackage</span>[normalem]{<span class="ex">ulem</span>}

<span class="co">% tightlist macro required by pandoc &gt;= 1.14</span>
<span class="fu">\providecommand</span>{<span class="fu">\tightlist</span>}{<span class="co">%</span>
  <span class="fu">\setlength</span>{<span class="fu">\itemsep</span>}{0pt}<span class="fu">\setlength</span>{<span class="fu">\parskip</span>}{0pt}}

<span class="co">% title / author / date</span>
<span class="ss">$if(title)$</span>
<span class="fu">\title</span>{<span class="ss">$title$</span>}
<span class="ss">$endif$</span>
<span class="ss">$if(author)$</span>
<span class="fu">\author</span>{<span class="ss">$for(author)</span><span class="er">$$</span><span class="ss">author</span><span class="er">$$</span><span class="ss">sep$</span> <span class="fu">\and</span> <span class="ss">$endfor$</span>}
<span class="ss">$endif$</span>
<span class="ss">$if(date)$</span>
<span class="fu">\date</span>{<span class="ss">$date$</span>}
<span class="ss">$else$</span>
<span class="fu">\date</span>{}
<span class="ss">$endif$</span>

<span class="co">%% colored links, setting &#39;borrowed&#39; from RJournal.sty with &#39;Thanks, Achim!&#39;</span>
<span class="fu">\RequirePackage</span>{color}
<span class="fu">\definecolor</span>{link}{rgb}{0.1,0.1,0.8} <span class="co">%% blue with some grey</span>
<span class="fu">\hypersetup</span>{
  colorlinks,<span class="co">%</span>
  citecolor=link,<span class="co">%</span>
  filecolor=link,<span class="co">%</span>
  linkcolor=link,<span class="co">%</span>
  urlcolor=link
}

<span class="ss">$for(header-includes)$</span>
<span class="ss">$header-includes$</span>
<span class="ss">$endfor$</span>

<span class="kw">\begin</span>{<span class="ex">document</span>}

<span class="ss">$if(title)$</span>
<span class="fu">\maketitle</span>
<span class="ss">$endif$</span>

<span class="ss">$if(abstract)$</span>
<span class="kw">\begin</span>{<span class="ex">abstract</span>}
<span class="fu">\noindent</span> <span class="ss">$abstract$</span>
<span class="kw">\end</span>{<span class="ex">abstract</span>}
<span class="ss">$endif$</span>

<span class="ss">$for(include-before)$</span>
<span class="ss">$include-before$</span>
<span class="ss">$endfor$</span>

<span class="ss">$if(toc)$</span>
{
<span class="ss">$if(colorlinks)$</span>
<span class="fu">\hypersetup</span>{linkcolor=<span class="ss">$if(toccolor)</span><span class="er">$$</span><span class="ss">toccolor</span><span class="er">$$</span><span class="ss">else$</span>black<span class="ss">$endif$</span>}
<span class="ss">$endif$</span>
<span class="fu">\setcounter</span>{tocdepth}{<span class="ss">$toc-depth$</span>}
<span class="fu">\tableofcontents</span>
}
<span class="ss">$endif$</span>
<span class="ss">$if(lot)$</span>
<span class="fu">\listoftables</span>
<span class="ss">$endif$</span>
<span class="ss">$if(lof)$</span>
<span class="fu">\listoffigures</span>
<span class="ss">$endif$</span>

<span class="ss">$body$</span>

<span class="ss">$if(natbib)$</span>
<span class="ss">$if(bibliography)$</span>
<span class="ss">$if(biblio-title)$</span>
<span class="ss">$if(book-class)$</span>
<span class="fu">\renewcommand\bibname</span>{<span class="ss">$biblio-title$</span>}
<span class="ss">$else$</span>
<span class="fu">\renewcommand\refname</span>{<span class="ss">$biblio-title$</span>}
<span class="ss">$endif$</span>
<span class="ss">$endif$</span>
<span class="bu">\bibliography</span>{<span class="ss">$for(bibliography)</span><span class="er">$$</span><span class="ss">bibliography</span><span class="er">$$</span><span class="ss">sep$</span><span class="ex">,</span><span class="ss">$endfor$</span>}

<span class="ss">$endif$</span>
<span class="ss">$endif$</span>
<span class="ss">$if(biblatex)$</span>
<span class="fu">\printbibliography</span><span class="ss">$if(biblio-title)$</span>[title=<span class="ss">$biblio-title$</span>]<span class="ss">$endif$</span>

<span class="ss">$endif$</span>

<span class="ss">$for(include-after)$</span>
<span class="ss">$include-after$</span>
<span class="ss">$endfor$</span>

<span class="kw">\end</span>{<span class="ex">document</span>}</code></pre></div>
</div>
<div id="definition-dun-squelette-pour-lutilisateur" class="section level3">
<h3>Définition d’un squelette pour l’utilisateur</h3>
<p>Le fichier <code>skeleton.Rmd</code> contient le squelette du fichier Rmd auquel on accède via l’interface Rstudio lors de la création d’un nouveau document, dont les spécification sont définies dans <code>teamplate.yml</code></p>
<div class="figure">
<img src="img/new_Rmarkdown.png" alt="création Rmd via Rstudio" />
<p class="caption">création Rmd via Rstudio</p>
</div>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
